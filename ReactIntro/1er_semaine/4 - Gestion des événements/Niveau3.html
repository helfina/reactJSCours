<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"/>
    <title>Hello React</title>
    <!-- Library -->
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>

    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

    <!-- babel => compilation du JSX -->
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>

<body>
<div id="root"></div>
<script type="text/babel">

  // Création de composant en créant des classes
  class Hello extends React.Component {

    constructor() {
      super();

      this.state = {
        animal: "Ronron",
        notes: [1, 10, 15, 19, 20],
        isDisplayed: false,
      }

      this.changeImageDisplay = this.changeImageDisplay.bind(this);
      this.removeLastElement = this.removeLastElement.bind(this);


    }

    render() {
        let imgElement = null;
    if(this.state.isDisplayed === true){
        imgElement =  <img src="img/baba.jpg"/>;
    }
    console.log(this.state.isDisplayed);
      return (

        <div>
            <div>
                <p>Créer une méthode afficheTexte qui prend en paramètre une chaîne de caractère</p>
                <p>Créer un bouton qui envoie la valeur de state de animal en paramètre, et qui appelle la méthode afficheTexte</p>
                <button onClick={()=>this.afficheTexte(this.state.animal)}>Affiche Texte</button>
            </div>
            <div>
                <p>Créer un bouton qui va retirer le dernier élément de la liste des notes</p>
                <p>Il faut que le bouton appelle une méthode removeLastElement, qui va retirer le dernier élément des notes.</p>
                  <button onClick={this.removeLastElement}>retirer le dernier élément de la liste des notes</button>
                {this.state.notes.map((note, index) => <p key={index}>{note}</p>) }<br/>
            </div>
            <div>
                <p>Créer un bouton qui va afficher ou non cette image en changeant la valeur de isDisplayed </p>
                <p>Il faut que le bouton appelle une méthode changeImageDisplay, qui va changer le state de isDisplayed</p>

                <button onClick={this.changeImageDisplay}>Afficher l'image</button>
                {imgElement}
            </div>
        </div>
      )
    }
      afficheTexte(texte){
        console.log(texte);
      }
      removeLastElement(){
        const newNote = this.state.notes;
        newNote.pop();
        this.setState({
            notes: newNote,
        })

      }
      changeImageDisplay(){
          this.setState({
              isDisplayed: !this.state.isDisplayed
          })
      }

  }

  // Rendu dans le DOM
  ReactDOM.render(
    <Hello/>,
    document.getElementById('root')
  );
</script>
</body>

</html>
